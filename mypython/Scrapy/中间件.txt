下载中间件
查询当前中间件
scrapy settings --get=DOWNLOADER_MIDDLEWARES_BASE


机器人协议中间件
"scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware": 100,

http 身份验证
"scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware": 300,

下载超时中间件
"scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware": 350,

默认请求头
"scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware": 400,

用户代理
"scrapy.downloadermiddlewares.useragent.UserAgentMiddleware": 500,

重新尝试
"scrapy.downloadermiddlewares.retry.RetryMiddleware": 550,

Ajax 抓取
"scrapy.downloadermiddlewares.ajaxcrawl.AjaxCrawlMiddleware": 560,

始终使用字符串作为原因
"scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware": 580,

允许网站数据压缩发送
"scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware": 590,

重定向
"scrapy.downloadermiddlewares.redirect.RedirectMiddleware": 600,

cookies
"scrapy.downloadermiddlewares.cookies.CookiesMiddleware": 700,

代理
"scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware": 750,

存储 所有 请求,响应,异常信息
"scrapy.downloadermiddlewares.stats.DownloaderStats": 850,

缓存中间件
"scrapy.downloadermiddlewares.httpcache.HttpCacheMiddleware": 900

数字越小,优先级越高,越靠近引擎
